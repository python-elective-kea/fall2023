<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Session 8 - Encapsulation &mdash; Introduction to python 1.0.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Session 9 - The python datamodel" href="ses9.html" />
    <link rel="prev" title="Session 7 - Pythonic OOP" href="ses7.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Introduction to python
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About this elective</a></li>
<li class="toctree-l1"><a class="reference internal" href="exam.html">Exam</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses1.html">Session 1 - Introduction to python</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses2.html">Session 2 - Data Structures: List &amp; Tuples</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses4.html">Session 3 - Mandatory assignment</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses3.html">Session 4 - Modules &amp; list comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses5.html">Session 5 - Utilities and Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses6.html">Session 6 - Functions &amp;  Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses7.html">Session 7 - Pythonic OOP</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Session 8 - Encapsulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#learning-goals">Learning goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#materials">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="#exercises">Exercises</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#encaptiolation-propeties-exercises">Encaptiolation &amp; Propeties exercises</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ex-1-car-object">Ex 1:  Car object</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ex-2-bank">Ex 2: Bank</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ex-2a-debugging">Ex 2a: Debugging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ex-3-machine-printer">Ex 3: Machine -&gt; printer</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ex-4-rectangle">Ex 4: Rectangle</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ex-5-color-converter">#Ex 5: Color converter</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="ses9.html">Session 9 - The python datamodel</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses10.html">Session 10 - Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses11.html">Session 11 - Context Managers</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses12.html">Session 12 - Mandatory Assignment 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses14-15.html">Session 15 - Exam preperation</a></li>
<li class="toctree-l1"><a class="reference internal" href="ses14-15.html">Session 15 - Exam preperation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Introduction to python</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Session 8 - Encapsulation</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/python-elective-kea/fall2023/blob/master/source/ses8.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="session-8-encapsulation">
<h1>Session 8 - Encapsulation<a class="headerlink" href="#session-8-encapsulation" title="Permalink to this heading"></a></h1>
<p>In Python, it is generally considered best practice to make all attributes public unless there is a specific need to make them private.
This is in contrast to languages like Java, where private attributes and accompanying getters and setters are the norm.</p>
<p>When we need to encapsulate data (e.g if we need to validate the data) we can use different methods.
We will look at one approaches: property.</p>
<p>A property is a build in decorator function and is using the syntax <code class="code docutils literal notranslate"><span class="pre">&#64;property</span></code>.
Just like you learned in the session about decorator functions.</p>
<section id="learning-goals">
<h2>Learning goals<a class="headerlink" href="#learning-goals" title="Permalink to this heading"></a></h2>
<p>After this week you will be able to:</p>
<ul class="simple">
<li><p>Understand the pythonic approach to encapsulation.</p></li>
<li><p>Use public and non-public attributes in your code</p></li>
<li><p>Work with properties to use encapsulation.</p></li>
<li><p>And explain the pros and cons of properties and public attributes compared to Java´s private attributes with getters and setters.</p></li>
</ul>
</section>
<section id="materials">
<h2>Materials<a class="headerlink" href="#materials" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p><a class="reference external" href="https://igorsobreira.com/2010/09/16/difference-between-one-underline-and-two-underlines-in-python.html">Difference between _, __ and __xx__ in Python</a></p></li>
<li><p><a class="reference external" href="https://realpython.com/python-property/">Python’s property(): Add Managed Attributes to Your Classes</a></p></li>
<li><p><a class="reference internal" href="notebooks/OOP_Encapsulation_Propeties.html"><span class="doc">Notebook on properties</span></a></p></li>
<li><p><a class="reference external" href="https://github.com/python-elective-kea/fall2023-code-examples-from-teachings/tree/master/ses8">Code examples from teachings</a></p></li>
</ul>
</section>
<section id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this heading"></a></h2>
<section id="encaptiolation-propeties-exercises">
<h3>Encaptiolation &amp; Propeties exercises<a class="headerlink" href="#encaptiolation-propeties-exercises" title="Permalink to this heading"></a></h3>
<p>All following exercises should be done by using <strong>Properties</strong> when needed (Ex 1 should have also properties every where even though its not needed). The focus should be on encapsulation.</p>
<section id="ex-1-car-object">
<h4>Ex 1:  Car object<a class="headerlink" href="#ex-1-car-object" title="Permalink to this heading"></a></h4>
<p><a class="reference internal" href="exercises/solution/05_encapsulation/solutions.html"><span class="doc">Solution</span></a></p>
<p>Create a Car class.
When instanciated the object should be able to take 4 attributes (Make, Model, bhp, mph).
All 4 should be properties.
.. note:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>In python you would never write empty properties, so there should be a reason for Make, Model, bhp, mph prorties to exist!
</pre></div>
</div>
</section>
<section id="ex-2-bank">
<h4>Ex 2: Bank<a class="headerlink" href="#ex-2-bank" title="Permalink to this heading"></a></h4>
<p><a class="reference internal" href="exercises/solution/05_encapsulation/solutions.html"><span class="doc">Solution</span></a></p>
<p>In the exercise from last monday with the bank, account and customer, change the code to use properties instead of the public variables.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="k">class</span> <span class="nc">Bank</span><span class="p">:</span>
<span class="linenos"> 2</span>     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 3</span>        <span class="bp">self</span><span class="o">.</span><span class="n">accounts</span> <span class="o">=</span> <span class="p">[]</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span><span class="k">class</span> <span class="nc">Account</span><span class="p">:</span>
<span class="linenos"> 6</span>     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">no</span><span class="p">,</span> <span class="n">cust</span><span class="p">):</span>
<span class="linenos"> 7</span>        <span class="bp">self</span><span class="o">.</span><span class="n">no</span> <span class="o">=</span> <span class="n">no</span>
<span class="linenos"> 8</span>        <span class="bp">self</span><span class="o">.</span><span class="n">cust</span> <span class="o">=</span> <span class="n">cust</span>
<span class="linenos"> 9</span>
<span class="linenos">10</span><span class="k">class</span> <span class="nc">Customer</span><span class="p">:</span>
<span class="linenos">11</span>     <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
<span class="linenos">12</span>        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The bank class should futher be change into not taking any accounts as parameters at initialization.</p></li>
<li><p>The accouts should be added afterwards, eithers as a single account one at a time, or as a collection of accounts (many at the sametime).</p></li>
<li><p>Somewhere you should change the code so that a customer only can create one account.</p></li>
<li><p>The Customer class should make sure that the customer is over 18 year of age.</p></li>
</ul>
</section>
<section id="ex-2a-debugging">
<h4>Ex 2a: Debugging<a class="headerlink" href="#ex-2a-debugging" title="Permalink to this heading"></a></h4>
<p>What is wrong with this code?</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span>     <span class="k">class</span> <span class="nc">C</span><span class="p">:</span>
<span class="linenos"> 2</span>         <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="linenos"> 3</span>             <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">value</span>
<span class="linenos"> 4</span>
<span class="linenos"> 5</span>         <span class="nd">@property</span>
<span class="linenos"> 6</span>         <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="linenos"> 7</span>             <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>
<span class="linenos"> 8</span>
<span class="linenos"> 9</span>         <span class="nd">@x</span><span class="o">.</span><span class="n">setter</span>
<span class="linenos">10</span>         <span class="k">def</span> <span class="nf">x</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
<span class="linenos">11</span>             <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">value</span><span class="p">)</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="nb">int</span><span class="p">,</span> <span class="p">):</span>
<span class="linenos">12</span>                 <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">value</span>
</pre></div>
</div>
</section>
<section id="ex-3-machine-printer">
<h4>Ex 3: Machine -&gt; printer<a class="headerlink" href="#ex-3-machine-printer" title="Permalink to this heading"></a></h4>
<p><a class="reference internal" href="exercises/solution/05_encapsulation/solutions.html"><span class="doc">Solution</span></a></p>
<ul class="simple">
<li><p>Create a Machine class that takes care of powering on and off a the machine.</p></li>
<li><p>Create a printer class that is a subclass of the Machine super class.</p></li>
<li><p>The printer should be able to print to console.</p></li>
<li><p>The printer should have a papertray, which should be in its own class. The papertray class should keep track of the paper, it should have the abillity to use paper and load new paper in the tray if empty.</p></li>
</ul>
</section>
<section id="ex-4-rectangle">
<h4>Ex 4: Rectangle<a class="headerlink" href="#ex-4-rectangle" title="Permalink to this heading"></a></h4>
<p>Write a Python class called Rectangle with width and height attributes. Add a get_area method which calculates the area of the rectangle. Then add property decorators to the width and height attributes, so that they can be accessed and set like regular public attributes, but also validate that the input values are positive. If a non-positive value is assigned to either width or height, raise a ValueError with an appropriate error message.</p>
<p>Your code should include:</p>
<ul class="simple">
<li><p>A class called Rectangle</p></li>
<li><p>width and height attributes with property decorators</p></li>
<li><p>A get_area method that calculates the area of the rectangle</p></li>
<li><p>Appropriate error handling for non-positive width and height values</p></li>
</ul>
</section>
<section id="ex-5-color-converter">
<h4>#Ex 5: Color converter<a class="headerlink" href="#ex-5-color-converter" title="Permalink to this heading"></a></h4>
<p><a class="reference internal" href="exercises/solution/05_encapsulation/solutions.html"><span class="doc">Solution</span></a></p>
<p>Try creating a property <code class="code docutils literal notranslate"><span class="pre">hex</span></code> for the <code class="code docutils literal notranslate"><span class="pre">class</span></code> Color that is shown below. The property <code class="code docutils literal notranslate"><span class="pre">hex</span></code> should return a string that starts with # and that contains the hexadecimal value of the color.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">class</span> <span class="nc">Color</span><span class="p">:</span>
<span class="linenos">2</span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="linenos">3</span>            <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">r</span>
<span class="linenos">4</span>            <span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">=</span> <span class="n">g</span>
<span class="linenos">5</span>            <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>
</pre></div>
</div>
<p>If you get it right, you should be able to use the class Colour like so:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">c</span> <span class="o">=</span> <span class="n">Colour</span><span class="p">(</span><span class="mi">146</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">c</span><span class="o">.</span><span class="n">hex</span>
<span class="go">&#39;#92ff00&#39;</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ses7.html" class="btn btn-neutral float-left" title="Session 7 - Pythonic OOP" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="ses9.html" class="btn btn-neutral float-right" title="Session 9 - The python datamodel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, Claus Bove.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>